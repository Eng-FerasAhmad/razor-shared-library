import{j as t}from"./jsx-runtime-DiklIkkE.js";import{r as i}from"./index-DRjF_FHU.js";import{T as j,f as M}from"./Template-Cay0yqF_.js";import{c as g}from"./color-EH4scy8d.js";import{B as l}from"./Box-DZzghkYk.js";import{P as k}from"./Popper-BlCi53e5.js";import{G as C}from"./Grow-OGmlZpoI.js";import{P as I}from"./Paper-C-vUFVpU.js";import{C as w}from"./ClickAwayListener-DcIDULlp.js";import{M as T}from"./MenuList-B_WMETQe.js";import{M as E}from"./MenuItem-CcYSG5JI.js";const P=({items:m,selected:c,anchor:p,position:d="bottom-start",...u})=>{const n=i.useRef(null),[o,s]=i.useState(!1);i.useEffect(()=>{var e;o||(e=n.current)==null||e.focus()},[o]);const f=()=>{s(e=>!e)},x=e=>{(e.key==="Tab"||e.key==="Escape")&&(e.preventDefault(),s(!1))},h=(e,a)=>{a.action(),s(!1)};return t.jsxs(j,{"data-testid":"menu",children:[t.jsx(l,{ref:n,"aria-controls":o?"composition-menu":void 0,"aria-expanded":o,"aria-haspopup":"true",onClick:f,...u,children:p}),t.jsx(k,{open:o,anchorEl:n.current,placement:d,transition:!0,disablePortal:!1,style:{zIndex:1101},children:({TransitionProps:e,placement:a})=>t.jsx(C,{...e,style:{transformOrigin:a==="bottom-start"?"left top":"left bottom",padding:0,color:g.secondary.dark},children:t.jsx(I,{children:t.jsx(w,{onClickAway:()=>s(!1),children:t.jsx(T,{autoFocusItem:o,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:x,sx:{p:0},children:m.map((r,y)=>t.jsxs(E,{selected:c===r.title,onClick:b=>h(b,r),sx:{display:"flex",alignItems:"center",fontSize:M.font14},children:[t.jsx(l,{sx:{mr:1,height:"20px"},children:r.icon}),r.title]},y))})})})})})]})};P.__docgenInfo={description:"",methods:[],displayName:"MenuCustom",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"MenuItems"}],raw:"MenuItems[]"},description:""},selected:{required:!1,tsType:{name:"string"},description:""},anchor:{required:!0,tsType:{name:"ReactNode"},description:""},position:{required:!1,tsType:{name:"union",raw:"'bottom-start' | 'bottom-end'",elements:[{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'bottom-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}}},composes:["Omit"]};export{P as M};
