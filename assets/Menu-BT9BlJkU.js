import{j as t}from"./extends-BZziWbxp.js";import{r as a}from"./index-BP8_t0zE.js";import{T as C,a as M}from"./Template-Ns2mqNLl.js";import{c as k}from"./color-DCc551Ku.js";import{B as c}from"./Box-DNx4V9Lx.js";import{P as I}from"./Popper-IylyG_a3.js";import{G as T}from"./Grow-D6iu-O35.js";import{P as w}from"./Paper-CjD7ugLR.js";import{C as E}from"./ClickAwayListener-CGILwLL6.js";import{M as P}from"./MenuList-CFY98bhA.js";import{M as R}from"./MenuItem-B3fhY3LG.js";const q=({items:p,selected:d,anchor:u,position:f="bottom-start",...x})=>{const[o,i]=a.useState(!1),s=a.useRef(null),l=a.useRef(o);a.useEffect(()=>{var e;l.current&&!o&&((e=s.current)==null||e.focus()),l.current=o},[o]);const h=()=>{i(e=>!e)},m=e=>{var r;(r=s.current)!=null&&r.contains(e.target)||i(!1)},y=e=>{(e.key==="Tab"||e.key==="Escape")&&(e.preventDefault(),i(!1))},b=(e,r)=>{r.action(),m(e)};return t.jsxs(C,{"data-testid":"menu",children:[t.jsx(c,{ref:s,"aria-controls":o?"composition-menu":void 0,"aria-expanded":o,"aria-haspopup":"true",onClick:h,...x,children:u}),t.jsx(I,{open:o,anchorEl:s.current,placement:f,transition:!0,disablePortal:!1,style:{zIndex:1101},children:({TransitionProps:e,placement:r})=>t.jsx(T,{...e,style:{transformOrigin:r==="bottom-start"?"left top":"left bottom",padding:0,color:k.secondary.dark},children:t.jsx(w,{children:t.jsx(E,{onClickAway:m,children:t.jsx(P,{autoFocusItem:o,id:"composition-menu","aria-labelledby":"composition-button",onKeyDown:y,sx:{p:0},children:p.map((n,j)=>t.jsxs(R,{selected:d===n.title,onClick:g=>b(g,n),sx:{display:"flex",alignItems:"center",fontSize:M.font14},children:[t.jsx(c,{sx:{mr:1,height:"20px"},children:n.icon}),n.title]},j))})})})})})]})};q.__docgenInfo={description:"",methods:[],displayName:"MenuCustom",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"MenuItems"}],raw:"MenuItems[]"},description:""},selected:{required:!1,tsType:{name:"string"},description:""},anchor:{required:!0,tsType:{name:"ReactNode"},description:""},position:{required:!1,tsType:{name:"union",raw:"'bottom-start' | 'bottom-end'",elements:[{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'bottom-end'"}]},description:"",defaultValue:{value:"'bottom-start'",computed:!1}}},composes:["Omit"]};export{q as M};
